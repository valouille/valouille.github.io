<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Le réseau dans le cloud AWS - VaLouille</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="VaLouille"><meta name=description content="Il est nécessaire de bien comprendre plusieurs concepts réseau afin de déployer une application dans le cloud AWS de manière optimale. Comme je n’ai pas trouvé de schéma qui regroupe l’ensemble des concepts, j’ai décidé d’en faire un, afin d’avoir une architecture de référence à utiliser pour décrire ces concepts. Évidemment, étant donné la relative complexité de l’infrastructure, le schéma est assez grand. Vous pouvez cliquer sur l’image pour ouvrir le fichier original."><meta name=keywords content="Valérian,Beaudoin,VaLouille"><meta name=generator content="Hugo 0.133.1 with theme even"><link rel=canonical href=https://valouille.github.io/2018/03/le-reseau-dans-le-cloud-aws/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link href=/lib/fancybox/jquery.fancybox-3.1.20.min.css rel=stylesheet><meta property="og:url" content="https://valouille.github.io/2018/03/le-reseau-dans-le-cloud-aws/"><meta property="og:site_name" content="VaLouille"><meta property="og:title" content="Le réseau dans le cloud AWS"><meta property="og:description" content="Il est nécessaire de bien comprendre plusieurs concepts réseau afin de déployer une application dans le cloud AWS de manière optimale. Comme je n’ai pas trouvé de schéma qui regroupe l’ensemble des concepts, j’ai décidé d’en faire un, afin d’avoir une architecture de référence à utiliser pour décrire ces concepts. Évidemment, étant donné la relative complexité de l’infrastructure, le schéma est assez grand. Vous pouvez cliquer sur l’image pour ouvrir le fichier original."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2018-03-02T20:32:16+00:00"><meta property="article:modified_time" content="2018-03-02T20:32:16+00:00"><meta property="article:tag" content="Aws"><meta property="article:tag" content="Network"><meta property="article:tag" content="Diagram"><meta property="article:tag" content="Schema"><meta property="article:tag" content="Reference"><meta property="article:tag" content="Architecture"><meta itemprop=name content="Le réseau dans le cloud AWS"><meta itemprop=description content="Il est nécessaire de bien comprendre plusieurs concepts réseau afin de déployer une application dans le cloud AWS de manière optimale. Comme je n’ai pas trouvé de schéma qui regroupe l’ensemble des concepts, j’ai décidé d’en faire un, afin d’avoir une architecture de référence à utiliser pour décrire ces concepts. Évidemment, étant donné la relative complexité de l’infrastructure, le schéma est assez grand. Vous pouvez cliquer sur l’image pour ouvrir le fichier original."><meta itemprop=datePublished content="2018-03-02T20:32:16+00:00"><meta itemprop=dateModified content="2018-03-02T20:32:16+00:00"><meta itemprop=wordCount content="647"><meta itemprop=keywords content="Aws,Network,Diagram,Schema,Reference,Architecture,Réseau,VPC,Multi-AZ,HA"><meta name=twitter:card content="summary"><meta name=twitter:title content="Le réseau dans le cloud AWS"><meta name=twitter:description content="Il est nécessaire de bien comprendre plusieurs concepts réseau afin de déployer une application dans le cloud AWS de manière optimale. Comme je n’ai pas trouvé de schéma qui regroupe l’ensemble des concepts, j’ai décidé d’en faire un, afin d’avoir une architecture de référence à utiliser pour décrire ces concepts. Évidemment, étant donné la relative complexité de l’infrastructure, le schéma est assez grand. Vous pouvez cliquer sur l’image pour ouvrir le fichier original."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>VaLouille</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/cv/><li class=mobile-menu-item>About Me</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>VaLouille</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/cv/>About Me</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Le réseau dans le cloud AWS</h1><div class=post-meta><span class=post-time>2018-03-02</span><div class=post-category><a href=/categories/aws/>AWS</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents></nav></div></div><div class=post-content><p>Il est nécessaire de bien comprendre plusieurs concepts réseau afin de déployer une application dans le cloud AWS de manière optimale. Comme je n’ai pas trouvé de schéma qui regroupe l’ensemble des concepts, j’ai décidé d’en faire un, afin d’avoir une architecture de référence à utiliser pour décrire ces concepts. Évidemment, étant donné la relative complexité de l’infrastructure, le schéma est assez grand. Vous pouvez cliquer sur l’image pour ouvrir le fichier original.</p><p><a href=https://blog.valouille.fr/wp-content/uploads/2018/03/AWS_Architecture-1.png></a></p><p>Voici les principaux concepts à bien intégrer afin de comprendre ce schéma :</p><ul><li>Il existe plusieurs <strong>régions</strong> dans AWS. Une <strong>région</strong> correspond à une zone géographique, par exemple Dublin ou Paris. La liste complète des régions est disponible à <a href=https://aws.amazon.com/about-aws/global-infrastructure/>la page suivante.</a></li><li>Chaque région est composée d’une ou plusieurs « zone de disponibilité », ou <strong>Availability Zones</strong>. Chaque <strong>AZ</strong> est indépendante l’une de l’autre, et il est nécessaire de placer au moins une instance dans chaque <strong>AZ</strong> pour assurer la haute disponibilité.</li><li>Un <strong>VPC</strong> est un réseau privé virtuel qui peut s’étendre sur plusieurs <strong>AZ</strong>s. On lui attribue un réseau ainsi qu’un masque associé.</li><li>Dans ce <strong>VPC</strong>, on crée des sous-réseaux, ou <strong>subnets</strong>, qui eux sont créés dans une <strong>AZ</strong>. Ces subnets communiquent via un routeur virtuel entre eux. Entre chaque subnet, il existe donc un routeur virtuel. Dans ce schéma, tous les routeurs ne sont pas représentés pour des soucis de lisibilité</li><li>Il est possible d’associer à chaque subnet une <strong>Network ACL</strong>, ou NACL, afin d’effectuer du filtrage « <a href=https://fr.wikipedia.org/wiki/Protocole_sans_%C3%A9tat><em>stateless</em></a>« .</li><li>À chaque subnet est associée une table de routage, ou <strong>Route Table</strong>.</li><li>Dans ces subnets, on crée des instances <strong>EC2</strong>, c’est à dire des machines virtuelles.</li><li>On associe à chaque instance EC2 (comme à la plupart des services AWS) un <strong>Security Group</strong>, qui contient des règles de filtrage.</li><li>Un subnet est peut être considéré comme public ou privé.</li><li>Un <strong>subnet public</strong> contient une table de routage dans la passerelle par défaut (gateway) envoie vers une <strong>Internet Gateway</strong> (<strong>IGW</strong>).</li><li>Un <strong>subnet privé</strong> contient une table de routage qui ne renvoie pas vers une <strong>IGW</strong>.</li><li>Si l’on souhaite accéder à Internet à partir d’un subnet privé, il est nécessaire de créer une <strong>NAT Gateway</strong> dans le subnet public, et de configurer la passerelle par défaut dans la route table du subnet privé vers la NAT Gateway de l’AZ correspondante. Uniquement l’accès vers Internet est alors possible, la NAT Gateway ne faisant que du « Source NAT »</li><li>Si l’on souhaite accéder à une instance à partir de l’extérieur, il est nécessaire de créer un <strong>Application Load Balancer</strong> (<strong>ALB</strong>) ou un <strong>Elastic Load Balancer</strong> (<strong>ELB</strong>).</li><li>Si on souhaite rendre accessible une instance EC2 d’un subnet public à partir de l’extérieur, il est nécessaire de lui attribuer une <strong>Elastic IP</strong> (<strong>EIP</strong>).</li><li>Il est possible de faire communiquer entre eux deux VPC, en mettant en place du <strong>VPC Peering</strong> et en adaptant les tables de routage.</li><li>Généralement on configure entre le réseau des bureaux et le VPC un VPN pour accéder aux instances de manière sécurisée. Une <strong>Virtual Private Gateway</strong> (<strong>VGW</strong>) est alors utilisée pour établir la connexion VPN entre le boitier de l’entreprise (<strong>Customer Gateway</strong>), et AWS. Les tables de routage doivent également être mises à jour.</li><li>Il est également possible à partir de la VGW de passer par un prestataire pour relier son data center à AWS via une liaison dédiée <strong>Direct Connect</strong>.</li><li>Certains services, comme <strong>S3</strong> (<strong>Simple Storage Service</strong>), ne sont pas directement accessibles à partir du VPC. On peut donc créer un <strong>VPC Endpoint</strong> pour éviter de passer par le public pour accéder à ces services.</li><li>Certains services, comme <strong>RDS</strong> (<strong>Relational Database Service</strong>) fonctionnement sur des instances EC2. Ces services sont donc placés dans un subnet, comme n’importe quelle instance EC2.</li></ul><p>J’espère que ce schéma va vous permettre d’y voir un peu plus clair dans le fonctionnement interne du réseau dans AWS. Les sources sont disponibles <a href=https://blog.valouille.fr/wp-content/uploads/2018/03/AWS_Architecture.xml>ici</a> et peuvent être modifiées avec <a href=https://draw.io>Draw.io</a></p></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>VaLouille</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2018-03-02</span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/aws/>AWS</a>
<a href=/tags/network/>network</a>
<a href=/tags/diagram/>diagram</a>
<a href=/tags/schema/>schema</a>
<a href=/tags/reference/>reference</a>
<a href=/tags/architecture/>architecture</a>
<a href=/tags/r%C3%A9seau/>réseau</a>
<a href=/tags/vpc/>VPC</a>
<a href=/tags/multi-az/>multi-AZ</a>
<a href=/tags/ha/>HA</a></div><nav class=post-nav><a class=prev href=/post/2018-03-07-comment-j-ai-modernise-mon-blog-en-migrant-de-wordpress-a-hugo/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Comment j'ai modernisé mon blog en migrant de Wordpress à Hugo</span>
<span class="prev-text nav-mobile">Prev</span>
</a><a class=next href=/2018/02/mettre-en-place-du-filtrage-ip-sur-un-bucket-s3/><span class="next-text nav-default">Mettre en place du filtrage IP sur un bucket S3</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname==="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="valouille",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the
<a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:valerian.beaudoin@gmail.com class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/valouille/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://valouille.github.io/2018/03/le-reseau-dans-le-cloud-aws/ type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy; 2013 - 2024<span class=heart><i class="iconfont icon-heart"></i></span><span>Valérian Beaudoin</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/lib/fancybox/jquery.fancybox-3.1.20.min.js></script><script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script></body></html>