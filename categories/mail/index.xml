<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mail on VaLouille</title><link>https://valouille.github.io/categories/mail/</link><description>Recent content in Mail on VaLouille</description><generator>Hugo</generator><language>fr</language><copyright>Valérian Beaudoin</copyright><lastBuildDate>Thu, 04 Sep 2014 09:57:02 +0000</lastBuildDate><atom:link href="https://valouille.github.io/categories/mail/index.xml" rel="self" type="application/rss+xml"/><item><title>Mettre en place une limite sur le nombre de mails envoyés par IP sur Postfix</title><link>https://valouille.github.io/2014/09/mettre-en-place-une-limite-sur-le-nombre-de-mails-envoyes-par-ip-sur-postfix/</link><pubDate>Thu, 04 Sep 2014 09:57:02 +0000</pubDate><guid>https://valouille.github.io/2014/09/mettre-en-place-une-limite-sur-le-nombre-de-mails-envoyes-par-ip-sur-postfix/</guid><description>Dans Postfix, on a la possibilité de paramétrer une limite du nombre de mails envoyés sur une intervalle de temps. Par exemple, pour mettre en place une limite de 10 mails envoyés par minutes, on ajoute les lignes suivantes au fichier /etc/postfix/main.cf :
# Whitelist smtpd_client_event_limit_exceptions = 127.0.0.0/8 # Max 10 mails/IP/anvil_rate_time_unit smtpd_client_message_rate_limit = 10 # Reject pipelining (speed-up mail sending) smtpd_data_restrictions = reject_unauth_pipelining smtpd_delay_reject = yes # Reset counter each minute anvil_rate_time_unit = 60s # Log statistics each 5 minutes anvil_status_update_time = 600s Pour activer les modifications :</description></item><item><title>Changer l'adresse ou le domaine de destination dans Postfix</title><link>https://valouille.github.io/2014/05/changer-ladresse-ou-le-domaine-de-destination-dans-postfix/</link><pubDate>Wed, 14 May 2014 15:57:33 +0000</pubDate><guid>https://valouille.github.io/2014/05/changer-ladresse-ou-le-domaine-de-destination-dans-postfix/</guid><description>Pour modifier l’adresse de destination des mails envoyés dans Postfix, il faut passer par trivial-rewrite. Pour ce faire, il faut ajouter dans le fichier /etc/postfix/main.cf :
smtp_generic_maps = regexp:/etc/postfix/generic Ensuite, dans le fichier /etc/postfix/generic
/^.*@domain1.com/ user1@domain1.com # renvoyer le domaine vers un utilisateur spécifique /^.*@domain1.com/ $1@domain2.com # renvoyer les mails de l&amp;#39;utilisateur de domain1.com vers domain2.com /^.*@.*/ user1@domain1.com # tout renvoyer vers user1@domain1.com Pour activer la configuration :
postmap /etc/postfix/generic /etc/init.</description></item><item><title>Commandes utiles pour Postfix</title><link>https://valouille.github.io/2014/04/commandes-utiles-pour-postfix/</link><pubDate>Fri, 18 Apr 2014 15:21:10 +0000</pubDate><guid>https://valouille.github.io/2014/04/commandes-utiles-pour-postfix/</guid><description>Voir quels domaines ont beaucoup de mails deferred en réception : qshape deferred Voir quels domaines ont beaucoup de mails actifs en émission : qshape -s active Supprimer tous les mails dans « Deferred » postsuper -d ALL deferred Supprimer tous les mails en queue postsuper -d ALL Supprimer un mail spécifique postsuper -d DA80E24A0A Voir le contenu d’un mail dans la queue postcat -q F1F942D236 Supprimer les mails de la queue en fonction de l’expéditeur ou du destinataire mailq | tail -n+2 | awk &amp;#39;BEGIN { RS = &amp;#34;&amp;#34; } { if ($8 == &amp;#34;www-data@exemple.</description></item><item><title>Activer vacation et le faire fonctionner avec roundcube 0.9 et postfixadmin</title><link>https://valouille.github.io/2014/02/activer-vacation-et-le-faire-fonctionner-avec-roundcube-0-9-et-postfixadmin/</link><pubDate>Wed, 19 Feb 2014 11:17:21 +0000</pubDate><guid>https://valouille.github.io/2014/02/activer-vacation-et-le-faire-fonctionner-avec-roundcube-0-9-et-postfixadmin/</guid><description>Voici la procédure pour activer le plugin vacation et le faire fonctionner avec les nouvelles versions de roundcube 0.8.*. domain.com est à changer par un domain qui existe vraiment sur la machine. Ce n’est pas la même procédure qu’avant, car avec les nouvelles versions de roundcube, les anciens plugins ne fonctionnent plus. Celui-ci a été modifié et traduit.
groupadd --gid 10002 vacation useradd -o -d /var/spool/vacation -g 10002 -u 10002 -s /bin/false vacation Ensuite, créer un dossier pour vacation</description></item><item><title>Supprimer les mails reçus en double avec Pigeonhole et Dovecot 2</title><link>https://valouille.github.io/2013/02/supprimer-les-mails-recus-en-double-avec-pigeonhole-et-dovecot-2/</link><pubDate>Mon, 18 Feb 2013 15:15:39 +0000</pubDate><guid>https://valouille.github.io/2013/02/supprimer-les-mails-recus-en-double-avec-pigeonhole-et-dovecot-2/</guid><description>Si on est inscrit à deux mailing-lists, et qu’un mail est envoyé à ces deux mailing-lists, alors on va le recevoir deux fois. Ou même si on est simplement en copie du mail envoyé à la mailing list. Il est possible de supprimer ces doublons, en se basant sur vnd.dovecot.duplicate. C’est une extension sieve. Le principe est que chaque mail contient un « msgid » unique, et le plugin se base sur cet ID afin de détecter les doublons.</description></item><item><title>Utiliser imapsync pour migrer des comptes mail</title><link>https://valouille.github.io/2013/02/utiliser-imapsync-pour-migrer-des-comptes-mail/</link><pubDate>Tue, 12 Feb 2013 14:19:15 +0000</pubDate><guid>https://valouille.github.io/2013/02/utiliser-imapsync-pour-migrer-des-comptes-mail/</guid><description>Imapsync permet de synchroniser les mails d’un compte imap à l’autre. Il fonctionne de manière incrémentale et ne crée pas de doublons. On peut donc le lancer plusieurs fois. On peut soit :
l’installer via git : git clone https://github.com/imapsync/imapsync.git apt-get install libmail-imapclient-perl libdigest-md5-file-perl libterm-readkey-perl libio-socket-ssl-perl libfile-spec-perl libdigest-hmac-perl make make install soit par paquet Debian : imapsync_1.518+awh-1_amd64.deb.tar.gz tar xvzf imapsync_1.518+awh-1_amd64.deb.tar.gz dpkg -i imapsync_1.518+awh-1_amd64.deb apt-get -f install Le fonctionnement est le suivant :</description></item><item><title>Activer vacation et le faire fonctionner avec roundcube 0.8 et postfixadmin</title><link>https://valouille.github.io/2013/02/hello-world/</link><pubDate>Wed, 06 Feb 2013 16:57:16 +0000</pubDate><guid>https://valouille.github.io/2013/02/hello-world/</guid><description>Voici la procédure pour activer le plugin vacation et le faire fonctionner avec les nouvelles versions de roundcube 0.8.*. domain.com est à changer par un domain qui existe vraiment sur la machine. Ce n’est
pas la même procédure qu’avant, car avec les nouvelles versions de roundcube, les anciens plugins ne
fonctionnent plus. Celui-ci a été modifié et traduit.
groupadd --gid 10002 vacation useradd -o -d /var/spool/vacation -g 10002 -u 10002 -s /bin/false vacation Ensuite, créer un dossier pour vacation</description></item></channel></rss>