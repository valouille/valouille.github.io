<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>VaLouille</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="VaLouille"><meta name=description content="Valérian Beaudoin's blog"><meta name=keywords content="Valérian,Beaudoin,VaLouille"><meta name=generator content="Hugo 0.103.1 with theme even"><link rel=canonical href=https://valouille.github.io/><link href=https://valouille.github.io/index.xml rel=alternate type=application/rss+xml title=VaLouille><link href=https://valouille.github.io/index.xml rel=feed type=application/rss+xml title=VaLouille><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css rel=stylesheet><link href=/lib/fancybox/jquery.fancybox-3.1.20.min.css rel=stylesheet><meta property="og:title" content="VaLouille"><meta property="og:description" content="Valérian Beaudoin's blog"><meta property="og:type" content="website"><meta property="og:url" content="https://valouille.github.io/"><meta itemprop=name content="VaLouille"><meta itemprop=description content="Valérian Beaudoin's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="VaLouille"><meta name=twitter:description content="Valérian Beaudoin's blog"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>VaLouille</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/cv/><li class=mobile-menu-item>About Me</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>VaLouille</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/cv/>About Me</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/03/media-player-qui-ne-fonctionne-pas-dans-owncloud-5/>Media player qui ne fonctionne pas dans ownCloud 5</a></h1><div class=post-meta><span class=post-time>2013-03-15</span><div class=post-category><a href=/categories/linux/>linux</a></div></div></header><div class=post-content><div class=post-summary>Sur la toute nouvelle version d’ownCloud (5.0.0) le ‘Dropbox like libre’, le media player ne fonctionne pas. Il est impossible de lire de la musique. Dans firebug, j’ai trouvé l’erreur suivante :
{"data":{"message":"Token expired. Please reload page."},"status":"error"} En fait, il faut modifier le fichier apps/media/ajax/api.php tel que ci-dessous :
\OCP\JSON::checkAppEnabled('media'); \OCP\JSON::checkLoggedIn(); -\OCP\JSON::callCheck(); error_reporting(E_ALL); //no script error reporting because of getID3 @@ -43,6 +42,7 @@ if ($arguments['action']) { switch ($arguments['action']) { case 'delete': + \OCP\JSON::callCheck(); $path = $arguments['path']; $collection->deleteSongByPath($path); $paths = explode(PATH_SEPARATOR, \OCP\Config::getUserValue(\OCP\USER::getUser(), 'media', 'paths', ''));</div><div class=read-more><a href=/2013/03/media-player-qui-ne-fonctionne-pas-dans-owncloud-5/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/02/se-connecter-a-un-vpn-ipsec-avec-vpnc/>Se connecter à un VPN IPSEC avec vpnc</a></h1><div class=post-meta><span class=post-time>2013-02-20</span><div class=post-category><a href=/categories/linux/>linux</a>
<a href=/categories/sysadmin/>sysadmin</a>
<a href=/categories/vpn/>vpn</a></div></div></header><div class=post-content><div class=post-summary>Pour se connecter à un VPN IPSec, on peut utiliser l’outil libre vpnc. Voici comment le configurer.
Installer vpnc et netcat:
apt-get install vpnc netcat Ajouter les lignes suivantes dans le fichier /etc/vpnc/default.conf :
IPSec gateway &lt;IP du VPN> IPSec ID tgroup1 IPSec secret Start1 IKE DH Group dh2 Vendor cisco Xauth username &lt;Nom d'utilisateur> Xauth password &lt;Mot de passe> Script /etc/vpnc/vpnc-script Lancer vpnc :
vpnc /etc/vpnc/default.conf Si ca ne fonctionne pas, ajouter aussi l’option suivante a /etc/vpnc/default.</div><div class=read-more><a href=/2013/02/se-connecter-a-un-vpn-ipsec-avec-vpnc/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/02/concatener-deux-fichiers-ou-les-merger-une-ligne-sur-deux/>Concaténer deux fichiers, ou les merger une ligne sur deux</a></h1><div class=post-meta><span class=post-time>2013-02-19</span><div class=post-category><a href=/categories/linux/>linux</a></div></div></header><div class=post-content><div class=post-summary>Parfois, on a une liste dans les mains sous forme de fichier texte, et on doit insérer du contenu à la fin, ou une ligne sur deux. Pour cela, on peut utiliser la commande « paste ».
Prennons le cas de ces deux fichiers :
% cat fichier1.txt 111 222 333 % cat fichier2.txt aaa bbb ccc Si on veut la concaténer, voici la commande :
% paste -d ' ' fichier1.</div><div class=read-more><a href=/2013/02/concatener-deux-fichiers-ou-les-merger-une-ligne-sur-deux/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/02/empecher-la-suppression-dun-fichier-pour-root/>Empêcher la suppression/modification d'un fichier par root</a></h1><div class=post-meta><span class=post-time>2013-02-19</span><div class=post-category><a href=/categories/linux/>linux</a>
<a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>Pour empêcher la modification ou la suppression d’un fichier, y compris pour root, on peut utiliser la commande « chattr » qui permet de mettre en place des attributs avancés sur les fichiers.
Pour bloquer un fichier : chattr +i fichier Pour voir les attributs avancés d’un fichier : lsattr ----i----------- ./fichier Pour débloquer un fichier chattr -i fichier</div><div class=read-more><a href=/2013/02/empecher-la-suppression-dun-fichier-pour-root/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/02/resoudre-lerreur-network-server-getpeername-failure-107-transport-endpoint-is-not-connected-pour-nagios-nrpe/>Résoudre l&amp;rsquo;erreur Network server getpeername() failure (107: Transport endpoint is not connected) pour Nagios NRPE</a></h1><div class=post-meta><span class=post-time>2013-02-19</span><div class=post-category><a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>J’ai été confronté à l’erreur suivante dans le fichier daemon.log. Ce message s’affichait toutes les trois secondes.
nrpe[8498]: Error: Network server getpeername() failure (107: Transport endpoint is not connected) nrpe[8498]: Cannot remove pidfile '/var/run/nagios/nrpe.pid' - check your privileges. nrpe[8498]: Daemon shutdown C’est dû à un bug qui a été reporté en 2009 et qui n’est toujours pas résolu dans la version 2.14.
La commande suivante permet de reproduire le bug :</div><div class=read-more><a href=/2013/02/resoudre-lerreur-network-server-getpeername-failure-107-transport-endpoint-is-not-connected-pour-nagios-nrpe/ class=read-more-link>Read more...</a></div></div></article></section><nav class=pagination><a class=prev href=/page/11/><i class="iconfont icon-left"></i>
<span class=prev-text>Prev</span></a>
<a class=next href=/page/13/><span class=next-text>Next</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:valerian.beaudoin@gmail.com class="iconfont icon-email" title=email></a>
<a href=https://www.linkedin.com/in/valouille/ class="iconfont icon-linkedin" title=linkedin></a>
<a href=https://valouille.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2013 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>Valérian Beaudoin</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script>
<script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script>
<script type=text/javascript src=/lib/fancybox/jquery.fancybox-3.1.20.min.js></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-38377556-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>