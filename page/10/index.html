<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>VaLouille</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="VaLouille"><meta name=description content="Valérian Beaudoin's blog"><meta name=keywords content="Valérian,Beaudoin,VaLouille"><meta name=generator content="Hugo 0.133.1 with theme even"><link rel=canonical href=https://valouille.github.io/><link href=https://valouille.github.io/index.xml rel=alternate type=application/rss+xml title=VaLouille><link href=https://valouille.github.io/index.xml rel=feed type=application/rss+xml title=VaLouille><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link href=/lib/fancybox/jquery.fancybox-3.1.20.min.css rel=stylesheet><meta property="og:url" content="https://valouille.github.io/"><meta property="og:site_name" content="VaLouille"><meta property="og:title" content="VaLouille"><meta property="og:description" content="Valérian Beaudoin's blog"><meta property="og:locale" content="fr"><meta property="og:type" content="website"><meta itemprop=name content="VaLouille"><meta itemprop=description content="Valérian Beaudoin's blog"><meta itemprop=datePublished content="2019-08-23T12:37:00+01:00"><meta itemprop=dateModified content="2024-09-02T21:41:52+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="VaLouille"><meta name=twitter:description content="Valérian Beaudoin's blog"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>VaLouille</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/cv/><li class=mobile-menu-item>About Me</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>VaLouille</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/cv/>About Me</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/05/installer-xdiff-sous-debian-avec-php-5-4/>Installer xdiff sous Debian avec PHP 5.4</a></h1><div class=post-meta><span class=post-time>2013-05-06</span><div class=post-category><a href=/categories/linux/>linux </a><a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>Voici un paquet permettant d’installer l’extension xdiff sous Debian :
Télécharger php5-xdiff-5.4-1.5.2-1+awh_amd64.deb.tar.gz et l’installer :
wget https://blog.valouille.fr/wp-content/uploads/2013/05/php5-xdiff-5.4-1.5.2-1+awh_amd64.deb.tar.gz tar xvzf php5-xdiff-5.4-1.5.2-1+awh_amd64.deb.tar.gz dpkg -i php5-xdiff-5.4-1.5.2-1+awh_amd64.deb On vérifie qu’il est bien présent :
# php -r "phpinfo();" | grep xdiff /etc/php5/cli/conf.d/20-xdiff.ini xdiff xdiff support => enabled libxdiff version => LibXDiff v0.23 by Davide Libenzi &lt;davide@xmailserver.org></div><div class=read-more><a href=/2013/05/installer-xdiff-sous-debian-avec-php-5-4/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/05/afficher-les-grants-de-tous-les-utilisateurs-mysql/>Afficher les « grants » de tous les utilisateurs mySQL</a></h1><div class=post-meta><span class=post-time>2013-05-02</span><div class=post-category><a href=/categories/linux/>linux </a><a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>Pour afficher tous les droits de tous les utilisateur d’un serveur mySQL, il faut créer une procédure. Pour cela, dans le prompt de mySQL, il suffit de taper :
USE mysql; DELIMITER // CREATE PROCEDURE showAllGrants() BEGIN DECLARE done INT DEFAULT 0; DECLARE theUser CHAR(16); DECLARE theHost CHAR(60); DECLARE cur1 CURSOR FOR SELECT user, host FROM mysql.user; DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1; OPEN cur1; REPEAT FETCH cur1 INTO theUser, theHost; IF NOT done THEN SET @sql := CONCAT('SHOW GRANTS FOR ', QUOTE(theUser), '@', QUOTE(theHost)); PREPARE grantStatement FROM @sql; EXECUTE grantStatement; DROP PREPARE grantStatement; END IF; UNTIL done END REPEAT; CLOSE cur1; END// DELIMITER ; Pour lancer la procédure, on tape :</div><div class=read-more><a href=/2013/05/afficher-les-grants-de-tous-les-utilisateurs-mysql/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/04/resoudre-les-problemes-grub-lies-a-grsec/>Résoudre les problèmes Grub liés à Grsec</a></h1><div class=post-meta><span class=post-time>2013-04-30</span><div class=post-category><a href=/categories/linux/>linux </a><a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>Lorsque l’on utilise un noyau Grsec et que l’on souhaite faire un « update-grub », les erreurs suivantes peuvent se manifester :
# update-grub Killed Killed Generating grub.cfg ... Killed Cela se matérialise comme ceci dans les logs kernel :
PAX: From 10.0.87.1: execution attempt in: &lt;anonymous mapping>, 3c2cfe2a000-3c2cfe40000 3fffffe9000 PAX: terminating task: /usr/sbin/grub-probe(grub-probe):30554, uid/euid: 0/0, PC: 000003c2cfe3eca8, SP: 000003c2cfe3ec58 PAX: bytes at PC: 41 bb 70 40 40 00 49 ba a0 ec e3 cf c2 03 00 00 49 ff e3 00 PAX: bytes at SP-8: 0000000000000006 0000000000401d57 0000000000000000 0000000000622aa0 000003c2cfe3eca8 0000000000404196 0000000000000000 000003c2cfe3f025 000003c2cfe3ee18 0000000000403edd 000000000041a070 grsec: From 10.</div><div class=read-more><a href=/2013/04/resoudre-les-problemes-grub-lies-a-grsec/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/04/resoudre-les-erreurs-grsec-avec-un-apache-itk/>Résoudre les erreurs Grsec avec un Apache ITK</a></h1><div class=post-meta><span class=post-time>2013-04-30</span><div class=post-category><a href=/categories/linux/>linux </a><a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>Grsec utilise par défaut les GID 1002, 1003, 1004 et 1005. Cela peut empêcher certaines applications de fonctionner, par exemple un Apache ITK configuré avec des GID utilisés par grsec. Les erreurs logguées dans le kernel ressemblent à ça :
kernel: grsec: From IP.IP.IP.IP: denied connect() by /usr/sbin/apache2[apache2:21077] uid/euid:1003/1003 gid/egid:1003/1003, parent /usr/sbin/apache2[apache2:21072] uid/euid:0/0 gid/egid:0/0 Il y a deux solutions, soit on désactive les fonctions qui nous embêtent :
sysctl kernel.grsecurity.socket_all= sysctl kernel.</div><div class=read-more><a href=/2013/04/resoudre-les-erreurs-grsec-avec-un-apache-itk/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2013/04/ajouter-le-hostname-du-serveur-dans-les-headers-apache/>Ajouter le hostname du serveur dans les headers Apache</a></h1><div class=post-meta><span class=post-time>2013-04-30</span><div class=post-category><a href=/categories/linux/>linux </a><a href=/categories/sysadmin/>sysadmin</a></div></div></header><div class=post-content><div class=post-summary>Cela peut être pratique dans le cas où on utilise un cluster de serveur Apache de voir quel est le nom du serveur qui a servi la requête, pour du debug par exemple. Voici la procédure :
Tout d’abord il faut activer le module headers :
a2enmod headers Puis on ajoute la ligne suivante au fichier /usr/sbin/apache2ctl afin de générer une variable d’environnement :
export HOSTNAME=`hostname` Enfin, il faut ajouter les deux lignes suivantes à la fin du fichier /etc/apache2/apache2.</div><div class=read-more><a href=/2013/04/ajouter-le-hostname-du-serveur-dans-les-headers-apache/ class=read-more-link>Read more...</a></div></div></article></section><nav class=pagination><a class=prev href=/page/9/><i class="iconfont icon-left"></i>
<span class=prev-text>Prev</span>
</a><a class=next href=/page/11/><span class=next-text>Next</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:valerian.beaudoin@gmail.com class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/valouille/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://valouille.github.io/ type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy; 2013 - 2024<span class=heart><i class="iconfont icon-heart"></i></span><span>Valérian Beaudoin</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/lib/fancybox/jquery.fancybox-3.1.20.min.js></script><script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script></body></html>