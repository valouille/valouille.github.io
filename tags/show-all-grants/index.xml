<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Show All Grants on VaLouille</title><link>https://valouille.github.io/tags/show-all-grants/</link><description>Recent content in Show All Grants on VaLouille</description><generator>Hugo</generator><language>fr</language><copyright>Valérian Beaudoin</copyright><lastBuildDate>Thu, 02 May 2013 13:49:38 +0000</lastBuildDate><atom:link href="https://valouille.github.io/tags/show-all-grants/index.xml" rel="self" type="application/rss+xml"/><item><title>Afficher les « grants » de tous les utilisateurs mySQL</title><link>https://valouille.github.io/2013/05/afficher-les-grants-de-tous-les-utilisateurs-mysql/</link><pubDate>Thu, 02 May 2013 13:49:38 +0000</pubDate><guid>https://valouille.github.io/2013/05/afficher-les-grants-de-tous-les-utilisateurs-mysql/</guid><description>Pour afficher tous les droits de tous les utilisateur d’un serveur mySQL, il faut créer une procédure. Pour cela, dans le prompt de mySQL, il suffit de taper :
USE mysql; DELIMITER // CREATE PROCEDURE showAllGrants() BEGIN DECLARE done INT DEFAULT 0; DECLARE theUser CHAR(16); DECLARE theHost CHAR(60); DECLARE cur1 CURSOR FOR SELECT user, host FROM mysql.user; DECLARE CONTINUE HANDLER FOR SQLSTATE &amp;#39;02000&amp;#39; SET done = 1; OPEN cur1; REPEAT FETCH cur1 INTO theUser, theHost; IF NOT done THEN SET @sql := CONCAT(&amp;#39;SHOW GRANTS FOR &amp;#39;, QUOTE(theUser), &amp;#39;@&amp;#39;, QUOTE(theHost)); PREPARE grantStatement FROM @sql; EXECUTE grantStatement; DROP PREPARE grantStatement; END IF; UNTIL done END REPEAT; CLOSE cur1; END// DELIMITER ; Pour lancer la procédure, on tape :</description></item></channel></rss>