<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>X-Forwarded-For on VaLouille</title><link>https://valouille.github.io/tags/x-forwarded-for/</link><description>Recent content in X-Forwarded-For on VaLouille</description><generator>Hugo</generator><language>fr</language><copyright>Valérian Beaudoin</copyright><lastBuildDate>Thu, 15 Mar 2018 00:05:08 +0100</lastBuildDate><atom:link href="https://valouille.github.io/tags/x-forwarded-for/index.xml" rel="self" type="application/rss+xml"/><item><title>Récupérer et écrire dans les logs d'accès l'IP source des connexions sur AWS derrière un ELB/ALB avec le header X-Forwarded-For</title><link>https://valouille.github.io/post/2018-03-15-impossible-d-obtenir-l-ip-relle-des-clients-via-le-header-x-forwarded-for-derriere-un-elb/</link><pubDate>Thu, 15 Mar 2018 00:05:08 +0100</pubDate><guid>https://valouille.github.io/post/2018-03-15-impossible-d-obtenir-l-ip-relle-des-clients-via-le-header-x-forwarded-for-derriere-un-elb/</guid><description>Pour récupérer l&amp;rsquo;adresse IP source du client qui initie la connexion au niveau d&amp;rsquo;une instance située derrière un Load-Balancer, plutôt que l&amp;rsquo;IP du Load-Balancer lui-même, il est nécessaire d&amp;rsquo;utiliser un header HTTP spécifique.
Dans AWS, l&amp;rsquo;ELB/ALB ajoute plusieurs headers par défaut, dont X-Forwarded-For, qui correspond à l&amp;rsquo;adresse IP publique à partir de laquelle la connexion est effectuée.
Les headers ne sont ajoutés que lorsqu&amp;rsquo;on utilise un Load-Balancer qui fait du niveau 7, c&amp;rsquo;est à dire un Load-Balancer configuré pour se connecter sur les instances en HTTP et HTTPS, pas en TCP ou SSL (niveau 4).</description></item></channel></rss>